# 🌱 PlanTree – 用声音种树的桌面小工具

> **保持安静或大声朗读，就能种下一棵属于你的树！**

PlanTree 是一个基于麦克风声音强度进行交互的桌面种树小游戏。你可以选择“安静模式”（保持安静让树生长）或“早读模式”（大声朗读让树生长），每天记录你的专注成果，并生成排行榜！

本项目采用 **Apache License 2.0** 开源协议，欢迎 Fork、修改、再分发！

---

## ✨ 特性

- 🎤 实时监听麦克风声音强度（RMS 值）
- 🌳 三种树阶段：苗（🌱）、树（🌳）、巨树（大🌳）
- 📊 自动每日结算分数并生成 **30 天排行榜**
- ⚙️ 可自定义：
  - 安静/朗读阈值
  - 树木生长速度
  - 合并数量（如 10 株苗 = 1 棵树）
- 💻 内置 **虚拟数字键盘**，支持触屏/无键盘设备操作
- 💾 自动保存进度到 `%APPDATA%\PlanTree`
- 🌓 支持两种游戏模式：
  - **安静模式（默认）**：声音 < 阈值 → 树生长
  - **早读模式**：声音 > 阈值 → 树生长

---

## 🛠 技术栈

- Python 3.9+
- [PySide6](https://pyside.org/)（GUI）
- [sounddevice](https://python-sounddevice.readthedocs.io/)（音频输入）
- NumPy（音频信号处理）
- 标准库：`os`, `json`, `datetime`, `sys`

---

## 📦 安装依赖

```bash
pip install PySide6 sounddevice numpy
```

> 注意：Windows 用户可能需要安装 [PortAudio](http://www.portaudio.com/) 驱动（`sounddevice` 依赖）。

---

## ▶️ 运行

```bash
python main.py
```

程序启动后会自动创建配置目录：
```
%APPDATA%\PlanTree\
├── progress.json     # 当前种树进度
└── leaderboard.json   # 排行榜数据
```

---

## 🎮 游戏规则

1. **安静模式（默认）**：保持环境安静（声音 < 阈值），树苗会慢慢长大。
2. **早读模式**：大声朗读（声音 > 阈值），树苗才能生长。
3. 每积累 **100%** 进度，获得 **1 株苗（🌱）**。
4. 每 **10 株苗** 自动合成 **1 棵树（🌳）**，**10 棵树** 合成 **1 棵巨树（大🌳）**。
5. 每天 **首次启动** 时，会将当前总分（按 `1苗=1分, 1树=10分, 1巨树=100分`）提交到排行榜。
6. 排行榜保留最近 **30 天** 的最高分记录，仅显示前 10 名。

---

## ⚙️ 设置说明

点击右上角 **⚙️ 按钮** 打开设置：

| 选项 | 说明                                   |
|------|--------------------------------------|
| 安静阈值（小声<） | 声音低于此值才视为“安静”（仅安静模式生效）               |
| 朗读阈值（大声>） | 声音高于此值才视为“朗读”（仅早读模式生效）               |
| 增长速度（%/秒） | 实际生长速度 = 输入值 / 10（如输入 150 → 15.0%/秒） |
| 合并数量 | 多少单位合成下一阶段（2~10）                     |

> 💡 建议值：安静阈值 35，朗读阈值 50（根据麦克风灵敏度调整）

---

## 📄 开源许可

本项目采用 **[Apache License 2.0](https://www.apache.org/licenses/LICENSE-2.0)** 开源协议。

Copyright 2025 imjumping

> *具体见项目根目录LICENSE*

---

## 👨‍💻 作者

- 中国河北省邢台市第十二中学2502**侯皓铭**（GitHub: [@imjumping](https://github.com/imjumping)）

> 愿你在喧嚣的世界里，找到一片属于自己的宁静森林 🌲

---

## 💡 小贴士

- 如果树不生长，请检查麦克风权限或调整阈值。
- 程序最小化后依然在后台监听，可放心使用。
- 每次关闭窗口会自动保存进度，无需手动操作。

--- 

🌱 **现在就开始，用声音种出你的森林吧！**

---

# 嗯？

> 这个readme似乎太旧了 散了 看代码吧！（这readme还是AI搞得😂）